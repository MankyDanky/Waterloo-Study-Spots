{"ast":null,"code":"import{ThemeContext,AccountContext}from\"./App\";import{useContext,useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Review(props){const{theme}=useContext(ThemeContext);const{account}=useContext(AccountContext);const[icon,setIcon]=useState(null);function deleteReview(){try{fetch(\"/api/deleteReview\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({username:props.username,spotId:props.spotId})}).then(res=>{props.effect();});}catch(error){console.log(error);}}useEffect(()=>{try{fetch(\"/api/getUser\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({username:props.username})}).then(res=>res.json()).then(data=>{if(data.status==\"error\"){}else{setIcon(data.icon);}});}catch(error){console.log(error);}},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",width:\"100vw\",height:\"10vw\",paddingLeft:\"6vw\",paddingRight:\"10vw\",boxSizing:\"border-box\",marginTop:\"4vw\"},children:[/*#__PURE__*/_jsx(\"img\",{src:icon,style:{objectFit:\"cover\",height:\"4vw\",width:\"4vw\",borderRadius:\"3.5vw\",marginBottom:\"6vw\",boxSizing:\"border-box\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"70vw\",height:\"100%\",textAlign:\"left\",paddingLeft:\"2vw\",display:\"block\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\".concat(theme,\"Text\"),style:{margin:\"0\",paddingRight:\"2vw\",fontFamily:\"Verdana\",fontWeight:\"bold\",fontSize:\"1.2vw\"},children:props.username}),[...Array(props.rating).keys()].map((item,idx)=>{return/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star accentText\",style:{fontSize:\"1.4vw\"}},item);})]}),/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(theme,\"Text\"),style:{fontSize:\"1.1vw\",fontFamily:\"Verdana\"},children:props.review})]}),account&&account.username==props.username&&/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash \".concat(theme,\"Text\"),style:{cursor:\"pointer\",fontSize:\"1.4vw\",marginLeft:\"auto\"},onClick:deleteReview})]});}export default Review;","map":{"version":3,"names":["ThemeContext","AccountContext","useContext","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Review","props","theme","account","icon","setIcon","deleteReview","fetch","method","headers","body","JSON","stringify","username","spotId","then","res","effect","error","console","log","json","data","status","style","display","width","height","paddingLeft","paddingRight","boxSizing","marginTop","children","src","objectFit","borderRadius","marginBottom","textAlign","className","concat","margin","fontFamily","fontWeight","fontSize","Array","rating","keys","map","item","idx","review","cursor","marginLeft","onClick"],"sources":["/Users/aadikulsh/Documents/JS Projects/Waterloo Study Spots/client/src/Review.js"],"sourcesContent":["import { ThemeContext, AccountContext } from \"./App\";\nimport { useContext, useState, useEffect } from \"react\";\n\nfunction Review(props) {\n    const {theme} = useContext(ThemeContext)\n    const {account} = useContext(AccountContext)\n    const [icon, setIcon] = useState(null);\n\n    function deleteReview() {\n        try {\n            fetch(\"/api/deleteReview\", {\n                method: \"POST\", \n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({username: props.username, spotId: props.spotId})\n            }).then((res) => {\n                props.effect();\n            })\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    useEffect(() => {\n        try {\n            fetch(\"/api/getUser\", {\n                method: \"POST\", \n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({username: props.username})\n            })\n            .then((res) => res.json()).then((data) => {\n                if (data.status == \"error\") {\n                } else {\n                    setIcon(data.icon)\n                }\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    }, [])\n\n    return (\n        <div style={{ display: \"flex\", width: \"100vw\", height: \"10vw\", paddingLeft: \"6vw\", paddingRight: \"10vw\", boxSizing: \"border-box\", marginTop: \"4vw\"}}>\n            <img src={icon} style={{objectFit: \"cover\", height: \"4vw\", width: \"4vw\",borderRadius: \"3.5vw\", marginBottom: \"6vw\", boxSizing: \"border-box\"}}></img>\n            <div style={{width: \"70vw\", height: \"100%\", textAlign: \"left\", paddingLeft: \"2vw\", display: \"block\"}}>\n                <div style={{ display: \"flex\"}}> \n                    <h1 className={`${theme}Text`} style={{margin: \"0\", paddingRight: \"2vw\", fontFamily: \"Verdana\", fontWeight: \"bold\", fontSize: \"1.2vw\"}}>{props.username}</h1>\n                    {\n                        [...Array(props.rating).keys()].map((item, idx) => {\n                            return <i className={\"fa-solid fa-star accentText\"} style={{fontSize: \"1.4vw\"}} key={item}></i>\n                        })\n                    }\n                </div>\n                <p className={`${theme}Text`} style={{fontSize: \"1.1vw\", fontFamily: \"Verdana\"}}>\n                    {props.review}\n                </p>\n            </div>\n            {account && account.username == props.username && <i className={`fa-solid fa-trash ${theme}Text`} style={{cursor: \"pointer\", fontSize: \"1.4vw\", marginLeft: \"auto\"}} onClick={deleteReview}></i>}\n        </div>\n    )\n}\n\nexport default Review;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}